{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/lib/validation/appointment.ts"],"sourcesContent":["import { z } from \"zod\";\r\n\r\n/**\r\n * Appointment request schema for both guest and registered users.\r\n * Registered users may have pre-filled name/email/phone from session.\r\n */\r\nexport const appointmentRequestSchema = z\r\n  .object({\r\n    // Customer info (required for guests, optional for registered users)\r\n    customer_name: z\r\n      .string()\r\n      .min(1, { message: \"Ad soyad gereklidir\" })\r\n      .min(2, { message: \"Ad soyad en az 2 karakter olmalÄ±dÄ±r\" }),\r\n    customer_phone: z\r\n      .string()\r\n      .min(1, { message: \"Telefon numarasÄ± gereklidir\" })\r\n      .refine((val) => /^(\\+90|0)?5\\d{9}$/.test(val.replace(/\\s/g, \"\")), {\r\n        message: \"GeÃ§erli bir telefon numarasÄ± giriniz (Ã¶rn: 5551234567)\",\r\n      }),\r\n    customer_email: z\r\n      .string()\r\n      .email({ message: \"GeÃ§erli bir e-posta adresi giriniz\" })\r\n      .optional()\r\n      .or(z.literal(\"\")),\r\n\r\n    // Appointment details\r\n    service_ids: z\r\n      .array(z.string())\r\n      .min(1, { message: \"En az bir hizmet seÃ§melisiniz\" }),\r\n    date: z\r\n      .string()\r\n      .min(1, { message: \"Randevu tarihi gereklidir\" })\r\n      .refine(\r\n        (val) => {\r\n          const selectedDate = new Date(val);\r\n          const today = new Date();\r\n          today.setHours(0, 0, 0, 0);\r\n          return selectedDate >= today;\r\n        },\r\n        { message: \"GeÃ§miÅŸ bir tarih seÃ§emezsiniz\" }\r\n      ),\r\n    time: z\r\n      .string()\r\n      .min(1, { message: \"Randevu saati gereklidir\" })\r\n      .refine((val) => /^\\d{2}:\\d{2}$/.test(val), {\r\n        message: \"GeÃ§erli bir saat giriniz (HH:mm)\",\r\n      }),\r\n    people_count: z\r\n      .number()\r\n      .int()\r\n      .min(1, { message: \"En az 1 kiÅŸi olmalÄ±dÄ±r\" })\r\n      .max(10, { message: \"En fazla 10 kiÅŸi iÃ§in randevu alabilirsiniz\" }),\r\n    notes: z\r\n      .string()\r\n      .max(500, { message: \"Not en fazla 500 karakter olabilir\" })\r\n      .optional()\r\n      .or(z.literal(\"\")),\r\n  })\r\n  .superRefine((data, ctx) => {\r\n    // Check if date + time is in the past\r\n    if (data.date && data.time) {\r\n      const [year, month, day] = data.date.split(\"-\").map(Number);\r\n      const [hours, minutes] = data.time.split(\":\").map(Number);\r\n      const appointmentDateTime = new Date(\r\n        year,\r\n        month - 1,\r\n        day,\r\n        hours,\r\n        minutes\r\n      );\r\n      const now = new Date();\r\n\r\n      if (appointmentDateTime <= now) {\r\n        ctx.addIssue({\r\n          code: z.ZodIssueCode.custom,\r\n          message: \"GeÃ§miÅŸ bir tarih ve saat seÃ§emezsiniz\",\r\n          path: [\"time\"],\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\nexport type AppointmentRequestInput = z.infer<typeof appointmentRequestSchema>;\r\n\r\n/**\r\n * Appointment approval schema for admin/staff.\r\n * Used when approving or revising a PENDING appointment.\r\n */\r\nexport const appointmentApprovalSchema = z\r\n  .object({\r\n    appointment_id: z.string().min(1),\r\n    assigned_staff_id: z\r\n      .string()\r\n      .min(1, { message: \"Ã‡alÄ±ÅŸan atamasÄ± gereklidir\" }),\r\n    date: z.string().min(1, { message: \"Tarih gereklidir\" }),\r\n    time: z.string().min(1, { message: \"Saat gereklidir\" }),\r\n    service_ids: z\r\n      .array(z.string())\r\n      .min(1, { message: \"En az bir hizmet gereklidir\" }),\r\n    people_count: z.number().int().min(1).max(10),\r\n    notes_internal: z\r\n      .string()\r\n      .max(1000, { message: \"Ä°Ã§ not en fazla 1000 karakter olabilir\" })\r\n      .optional()\r\n      .or(z.literal(\"\")),\r\n  })\r\n  .superRefine((data, ctx) => {\r\n    // Check if date + time is in the past\r\n    if (data.date && data.time) {\r\n      const [year, month, day] = data.date.split(\"-\").map(Number);\r\n      const [hours, minutes] = data.time.split(\":\").map(Number);\r\n      const appointmentDateTime = new Date(\r\n        year,\r\n        month - 1,\r\n        day,\r\n        hours,\r\n        minutes\r\n      );\r\n      const now = new Date();\r\n\r\n      if (appointmentDateTime <= now) {\r\n        ctx.addIssue({\r\n          code: z.ZodIssueCode.custom,\r\n          message: \"GeÃ§miÅŸ bir tarih ve saat seÃ§emezsiniz\",\r\n          path: [\"time\"],\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\nexport type AppointmentApprovalInput = z.infer<\r\n  typeof appointmentApprovalSchema\r\n>;\r\n\r\n/**\r\n * Appointment cancellation schema.\r\n * Includes reason for cancellation.\r\n */\r\nexport const appointmentCancellationSchema = z.object({\r\n  appointment_id: z.string().min(1),\r\n  reason: z\r\n    .string()\r\n    .min(1, { message: \"Ä°ptal nedeni gereklidir\" })\r\n    .max(500, { message: \"Ä°ptal nedeni en fazla 500 karakter olabilir\" }),\r\n});\r\n\r\nexport type AppointmentCancellationInput = z.infer<\r\n  typeof appointmentCancellationSchema\r\n>;\r\n\r\n/**\r\n * Follow-up code lookup schema.\r\n * Used to check appointment status by code.\r\n */\r\nexport const followUpCodeSchema = z.object({\r\n  code: z\r\n    .string()\r\n    .min(1, { message: \"Takip kodu gereklidir\" })\r\n    .regex(/^APT-\\d{4}-\\d{5}$/, {\r\n      message: \"GeÃ§ersiz takip kodu formatÄ± (APT-YYYY-NNNNN)\",\r\n    }),\r\n});\r\n\r\nexport type FollowUpCodeInput = z.infer<typeof followUpCodeSchema>;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/lib/utils/appointment.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prisma = new PrismaClient();\r\n\r\n/**\r\n * Generate a unique appointment follow-up code in format: APT-YYYY-NNNNN\r\n * where YYYY is the year and NNNNN is a sequential 5-digit number.\r\n *\r\n * @returns Promise<string> - Unique appointment code\r\n *\r\n * @example\r\n * const code = await generateAppointmentCode()\r\n * // Returns: \"APT-2025-00001\"\r\n */\r\nexport async function generateAppointmentCode(): Promise<string> {\r\n  const currentYear = new Date().getFullYear();\r\n  const yearPrefix = `APT-${currentYear}-`;\r\n\r\n  // Find the highest sequential number for this year\r\n  const lastAppointment = await prisma.appointment.findFirst({\r\n    where: {\r\n      code: {\r\n        startsWith: yearPrefix,\r\n      },\r\n    },\r\n    orderBy: {\r\n      code: \"desc\",\r\n    },\r\n    select: {\r\n      code: true,\r\n    },\r\n  });\r\n\r\n  let nextNumber = 1;\r\n\r\n  if (lastAppointment) {\r\n    // Extract the sequential number from the last code\r\n    const lastNumber = parseInt(lastAppointment.code.split(\"-\")[2], 10);\r\n    nextNumber = lastNumber + 1;\r\n  }\r\n\r\n  // Format with leading zeros (5 digits)\r\n  const sequentialNumber = nextNumber.toString().padStart(5, \"0\");\r\n\r\n  return `${yearPrefix}${sequentialNumber}`;\r\n}\r\n\r\n/**\r\n * Check if an appointment can be cancelled by the customer.\r\n * Customers can only cancel if there are more than 12 hours until the appointment.\r\n *\r\n * @param appointmentDate - Date of the appointment (YYYY-MM-DD)\r\n * @param appointmentTime - Time of the appointment (HH:mm)\r\n * @returns boolean - True if can be cancelled, false otherwise\r\n */\r\nexport function canCancelAppointment(\r\n  appointmentDate: string,\r\n  appointmentTime: string\r\n): boolean {\r\n  const now = new Date();\r\n  const [year, month, day] = appointmentDate.split(\"-\").map(Number);\r\n  const [hours, minutes] = appointmentTime.split(\":\").map(Number);\r\n\r\n  const appointmentDateTime = new Date(year, month - 1, day, hours, minutes);\r\n  const hoursUntilAppointment =\r\n    (appointmentDateTime.getTime() - now.getTime()) / (1000 * 60 * 60);\r\n\r\n  return hoursUntilAppointment > 12;\r\n}\r\n\r\n/**\r\n * Check if the selected time is within working hours.\r\n *\r\n * @param weekday - Day of week (0 = Sunday, 6 = Saturday)\r\n * @param time - Time in HH:mm format\r\n * @param workingHours - Array of working hours from database\r\n * @param specialWorkingDays - Array of special working days from database\r\n * @param selectedDate - Date in YYYY-MM-DD format\r\n * @returns object - { isWithinHours: boolean, message?: string }\r\n */\r\nexport function checkWorkingHours(\r\n  weekday: number,\r\n  time: string,\r\n  workingHours: Array<{\r\n    weekday: number;\r\n    open_time: string | null;\r\n    close_time: string | null;\r\n    is_open: boolean;\r\n  }>,\r\n  specialWorkingDays: Array<{\r\n    date: Date;\r\n    open_time: string | null;\r\n    close_time: string | null;\r\n    is_open: boolean;\r\n  }>,\r\n  selectedDate: string\r\n): { isWithinHours: boolean; message?: string } {\r\n  // Check if there's a special working day for this date\r\n  const selectedDateObj = new Date(selectedDate);\r\n  const specialDay = specialWorkingDays.find((sd) => {\r\n    const sdDate = new Date(sd.date);\r\n    return (\r\n      sdDate.getFullYear() === selectedDateObj.getFullYear() &&\r\n      sdDate.getMonth() === selectedDateObj.getMonth() &&\r\n      sdDate.getDate() === selectedDateObj.getDate()\r\n    );\r\n  });\r\n\r\n  if (specialDay) {\r\n    if (!specialDay.is_open) {\r\n      return {\r\n        isWithinHours: false,\r\n        message:\r\n          \"SeÃ§tiÄŸiniz tarihte salonumuz kapalÄ±dÄ±r. LÃ¼tfen baÅŸka bir tarih seÃ§in.\",\r\n      };\r\n    }\r\n\r\n    if (specialDay.open_time && specialDay.close_time) {\r\n      if (time < specialDay.open_time || time >= specialDay.close_time) {\r\n        return {\r\n          isWithinHours: false,\r\n          message: `SeÃ§tiÄŸiniz saat Ã§alÄ±ÅŸma saatlerimiz dÄ±ÅŸÄ±ndadÄ±r. Ã‡alÄ±ÅŸma saatlerimiz: ${specialDay.open_time} - ${specialDay.close_time}`,\r\n        };\r\n      }\r\n    }\r\n\r\n    return { isWithinHours: true };\r\n  }\r\n\r\n  // Check regular working hours\r\n  const workingDay = workingHours.find((wh) => wh.weekday === weekday);\r\n\r\n  if (!workingDay || !workingDay.is_open) {\r\n    return {\r\n      isWithinHours: false,\r\n      message:\r\n        \"SeÃ§tiÄŸiniz gÃ¼n salonumuz kapalÄ±dÄ±r. LÃ¼tfen baÅŸka bir gÃ¼n seÃ§in.\",\r\n    };\r\n  }\r\n\r\n  if (workingDay.open_time && workingDay.close_time) {\r\n    if (time < workingDay.open_time || time >= workingDay.close_time) {\r\n      return {\r\n        isWithinHours: false,\r\n        message: `SeÃ§tiÄŸiniz saat Ã§alÄ±ÅŸma saatlerimiz dÄ±ÅŸÄ±ndadÄ±r. Ã‡alÄ±ÅŸma saatlerimiz: ${workingDay.open_time} - ${workingDay.close_time}`,\r\n      };\r\n    }\r\n  }\r\n\r\n  return { isWithinHours: true };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,SAAS,IAAI,6IAAY;AAYxB,eAAe;IACpB,MAAM,cAAc,IAAI,OAAO,WAAW;IAC1C,MAAM,aAAa,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAExC,mDAAmD;IACnD,MAAM,kBAAkB,MAAM,OAAO,WAAW,CAAC,SAAS,CAAC;QACzD,OAAO;YACL,MAAM;gBACJ,YAAY;YACd;QACF;QACA,SAAS;YACP,MAAM;QACR;QACA,QAAQ;YACN,MAAM;QACR;IACF;IAEA,IAAI,aAAa;IAEjB,IAAI,iBAAiB;QACnB,mDAAmD;QACnD,MAAM,aAAa,SAAS,gBAAgB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;QAChE,aAAa,aAAa;IAC5B;IAEA,uCAAuC;IACvC,MAAM,mBAAmB,WAAW,QAAQ,GAAG,QAAQ,CAAC,GAAG;IAE3D,OAAO,GAAG,aAAa,kBAAkB;AAC3C;AAUO,SAAS,qBACd,eAAuB,EACvB,eAAuB;IAEvB,MAAM,MAAM,IAAI;IAChB,MAAM,CAAC,MAAM,OAAO,IAAI,GAAG,gBAAgB,KAAK,CAAC,KAAK,GAAG,CAAC;IAC1D,MAAM,CAAC,OAAO,QAAQ,GAAG,gBAAgB,KAAK,CAAC,KAAK,GAAG,CAAC;IAExD,MAAM,sBAAsB,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,OAAO;IAClE,MAAM,wBACJ,CAAC,oBAAoB,OAAO,KAAK,IAAI,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,EAAE;IAEnE,OAAO,wBAAwB;AACjC;AAYO,SAAS,kBACd,OAAe,EACf,IAAY,EACZ,YAKE,EACF,kBAKE,EACF,YAAoB;IAEpB,uDAAuD;IACvD,MAAM,kBAAkB,IAAI,KAAK;IACjC,MAAM,aAAa,mBAAmB,IAAI,CAAC,CAAC;QAC1C,MAAM,SAAS,IAAI,KAAK,GAAG,IAAI;QAC/B,OACE,OAAO,WAAW,OAAO,gBAAgB,WAAW,MACpD,OAAO,QAAQ,OAAO,gBAAgB,QAAQ,MAC9C,OAAO,OAAO,OAAO,gBAAgB,OAAO;IAEhD;IAEA,IAAI,YAAY;QACd,IAAI,CAAC,WAAW,OAAO,EAAE;YACvB,OAAO;gBACL,eAAe;gBACf,SACE;YACJ;QACF;QAEA,IAAI,WAAW,SAAS,IAAI,WAAW,UAAU,EAAE;YACjD,IAAI,OAAO,WAAW,SAAS,IAAI,QAAQ,WAAW,UAAU,EAAE;gBAChE,OAAO;oBACL,eAAe;oBACf,SAAS,CAAC,qEAAqE,EAAE,WAAW,SAAS,CAAC,GAAG,EAAE,WAAW,UAAU,EAAE;gBACpI;YACF;QACF;QAEA,OAAO;YAAE,eAAe;QAAK;IAC/B;IAEA,8BAA8B;IAC9B,MAAM,aAAa,aAAa,IAAI,CAAC,CAAC,KAAO,GAAG,OAAO,KAAK;IAE5D,IAAI,CAAC,cAAc,CAAC,WAAW,OAAO,EAAE;QACtC,OAAO;YACL,eAAe;YACf,SACE;QACJ;IACF;IAEA,IAAI,WAAW,SAAS,IAAI,WAAW,UAAU,EAAE;QACjD,IAAI,OAAO,WAAW,SAAS,IAAI,QAAQ,WAAW,UAAU,EAAE;YAChE,OAAO;gBACL,eAAe;gBACf,SAAS,CAAC,qEAAqE,EAAE,WAAW,SAAS,CAAC,GAAG,EAAE,WAAW,UAAU,EAAE;YACpI;QACF;IACF;IAEA,OAAO;QAAE,eAAe;IAAK;AAC/B","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,4SAAI,GAAG;IAE9B,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6VAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6VAAC,sRAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/lib/utils/currency.ts"],"sourcesContent":["/**\r\n * Format a number as Turkish Lira (TRY) currency\r\n * @param amount The amount to format\r\n * @returns Formatted string like \"150,00 â‚º\"\r\n */\r\nexport function formatCurrency(amount: number): string {\r\n  return new Intl.NumberFormat(\"tr-TR\", {\r\n    style: \"currency\",\r\n    currency: \"TRY\",\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n}\r\n\r\n/**\r\n * Parse a formatted currency string back to a number\r\n * @param currencyString Formatted string like \"150,00 â‚º\"\r\n * @returns The numeric value\r\n */\r\nexport function parseCurrency(currencyString: string): number {\r\n  const cleanedString = currencyString\r\n    .replace(/[â‚º\\s]/g, \"\")\r\n    .replace(/\\./g, \"\")\r\n    .replace(\",\", \".\");\r\n  return parseFloat(cleanedString) || 0;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;AACM,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAOO,SAAS,cAAc,cAAsB;IAClD,MAAM,gBAAgB,eACnB,OAAO,CAAC,UAAU,IAClB,OAAO,CAAC,OAAO,IACf,OAAO,CAAC,KAAK;IAChB,OAAO,WAAW,kBAAkB;AACtC","debugId":null}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///E:/kuafor/app/%28public%29/randevu/appointment-request-form.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useForm, SubmitHandler } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { WorkingHours, SpecialWorkingDay } from \"@prisma/client\";\r\nimport { appointmentRequestSchema } from \"@/lib/validation/appointment\";\r\nimport { checkWorkingHours } from \"@/lib/utils/appointment\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { formatCurrency } from \"@/lib/utils/currency\";\r\nimport { z } from \"zod\";\r\n\r\ntype FormValues = z.infer<typeof appointmentRequestSchema>;\r\n\r\ninterface ServiceForClient {\r\n  id: string;\r\n  name: string;\r\n  duration_min: number;\r\n  price_try: number;\r\n  is_active: boolean;\r\n}\r\n\r\ninterface AppointmentRequestFormProps {\r\n  services: ServiceForClient[];\r\n  workingHours: WorkingHours[];\r\n  specialWorkingDays: SpecialWorkingDay[];\r\n}\r\n\r\nexport function AppointmentRequestForm({\r\n  services,\r\n  workingHours,\r\n  specialWorkingDays,\r\n}: AppointmentRequestFormProps) {\r\n  const { data: session } = useSession();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [appointmentCode, setAppointmentCode] = useState(\"\");\r\n  const [warnings, setWarnings] = useState<string[]>([]);\r\n  const [workingHoursWarning, setWorkingHoursWarning] = useState<string | null>(\r\n    null\r\n  );\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm<FormValues>({\r\n    resolver: zodResolver(appointmentRequestSchema),\r\n    defaultValues: {\r\n      customer_name: session?.user?.name || \"\",\r\n      customer_phone: session?.user?.phone || \"\",\r\n      customer_email: session?.user?.email || \"\",\r\n      people_count: 1,\r\n      service_ids: [],\r\n    },\r\n  });\r\n\r\n  const watchedDate = watch(\"date\");\r\n  const watchedTime = watch(\"time\");\r\n  const watchedServiceIds = watch(\"service_ids\");\r\n\r\n  // Check working hours when date/time changes\r\n  useEffect(() => {\r\n    if (watchedDate && watchedTime) {\r\n      const selectedDate = new Date(watchedDate);\r\n      const weekday = selectedDate.getDay();\r\n      const hoursCheck = checkWorkingHours(\r\n        weekday,\r\n        watchedTime,\r\n        workingHours,\r\n        specialWorkingDays,\r\n        watchedDate\r\n      );\r\n\r\n      if (!hoursCheck.isWithinHours && hoursCheck.message) {\r\n        setWorkingHoursWarning(hoursCheck.message);\r\n      } else {\r\n        setWorkingHoursWarning(null);\r\n      }\r\n    }\r\n  }, [watchedDate, watchedTime, workingHours, specialWorkingDays]);\r\n\r\n  // Calculate total price and duration\r\n  const selectedServices = services.filter(\r\n    (s) => Array.isArray(watchedServiceIds) && watchedServiceIds.includes(s.id)\r\n  );\r\n  const totalPrice = selectedServices.reduce((sum, s) => sum + s.price_try, 0);\r\n  const totalDuration = selectedServices.reduce(\r\n    (sum, s) => sum + s.duration_min,\r\n    0\r\n  );\r\n\r\n  const onSubmit: SubmitHandler<FormValues> = async (data) => {\r\n    setIsSubmitting(true);\r\n    setWarnings([]);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/appointments/create\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(result.error || \"Bir hata oluÅŸtu\");\r\n      }\r\n\r\n      setAppointmentCode(result.appointment.code);\r\n      setWarnings(result.warnings || []);\r\n      setSubmitSuccess(true);\r\n    } catch (error) {\r\n      alert(error instanceof Error ? error.message : \"Bir hata oluÅŸtu\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (submitSuccess) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <div className=\"mb-6\">\r\n          <svg\r\n            className=\"mx-auto h-16 w-16 text-green-500\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\r\n          Randevu Talebiniz AlÄ±ndÄ±!\r\n        </h2>\r\n\r\n        <div className=\"bg-pink-50 border border-pink-200 rounded-lg p-6 mb-6\">\r\n          <p className=\"text-sm text-gray-600 mb-2\">Takip Kodunuz</p>\r\n          <p className=\"text-3xl font-bold text-pink-600 mb-4\">\r\n            {appointmentCode}\r\n          </p>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Bu kodu kullanarak randevunuzu takip edebilirsiniz\r\n          </p>\r\n        </div>\r\n\r\n        {warnings.length > 0 && (\r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\r\n            <p className=\"text-sm font-medium text-yellow-800 mb-2\">UyarÄ±:</p>\r\n            <ul className=\"text-sm text-yellow-700 space-y-1\">\r\n              {warnings.map((warning, index) => (\r\n                <li key={index}>{warning}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"space-y-3\">\r\n          <Button\r\n            onClick={() =>\r\n              (window.location.href = `/takip?code=${appointmentCode}`)\r\n            }\r\n            className=\"w-full\"\r\n          >\r\n            Randevuyu Takip Et\r\n          </Button>\r\n\r\n          <Button\r\n            onClick={() => window.location.reload()}\r\n            variant=\"outline\"\r\n            className=\"w-full\"\r\n          >\r\n            Yeni Randevu OluÅŸtur\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n      {/* Customer Information */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900\">\r\n          Ä°letiÅŸim Bilgileri\r\n        </h2>\r\n\r\n        <div>\r\n          <Label htmlFor=\"customer_name\">Ad Soyad *</Label>\r\n          <Input\r\n            id=\"customer_name\"\r\n            {...register(\"customer_name\")}\r\n            placeholder=\"AdÄ±nÄ±z SoyadÄ±nÄ±z\"\r\n          />\r\n          {errors.customer_name && (\r\n            <p className=\"text-sm text-red-600 mt-1\">\r\n              {errors.customer_name.message}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <Label htmlFor=\"customer_phone\">Telefon *</Label>\r\n          <Input\r\n            id=\"customer_phone\"\r\n            {...register(\"customer_phone\")}\r\n            placeholder=\"5551234567\"\r\n            type=\"tel\"\r\n          />\r\n          {errors.customer_phone && (\r\n            <p className=\"text-sm text-red-600 mt-1\">\r\n              {errors.customer_phone.message}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <Label htmlFor=\"customer_email\">E-posta (Ä°steÄŸe baÄŸlÄ±)</Label>\r\n          <Input\r\n            id=\"customer_email\"\r\n            {...register(\"customer_email\")}\r\n            placeholder=\"ornek@email.com\"\r\n            type=\"email\"\r\n          />\r\n          {errors.customer_email && (\r\n            <p className=\"text-sm text-red-600 mt-1\">\r\n              {errors.customer_email.message}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Service Selection */}\r\n      <div className=\"space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900\">Hizmetler *</h2>\r\n\r\n        <div className=\"space-y-2\">\r\n          {services.map((service) => (\r\n            <Card key={service.id} className=\"p-4\">\r\n              <label className=\"flex items-start gap-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  value={service.id}\r\n                  {...register(\"service_ids\")}\r\n                  className=\"mt-1 h-4 w-4 rounded border-gray-300 text-pink-600 focus:ring-pink-500\"\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      {service.name}\r\n                    </span>\r\n                    <span className=\"text-pink-600 font-semibold\">\r\n                      {formatCurrency(service.price_try)}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    SÃ¼re: {service.duration_min} dakika\r\n                  </p>\r\n                </div>\r\n              </label>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n\r\n        {errors.service_ids && (\r\n          <p className=\"text-sm text-red-600\">{errors.service_ids.message}</p>\r\n        )}\r\n\r\n        {selectedServices.length > 0 && (\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"text-gray-600\">Toplam SÃ¼re:</span>\r\n              <span className=\"font-medium\">{totalDuration} dakika</span>\r\n            </div>\r\n            <div className=\"flex justify-between text-sm mt-2\">\r\n              <span className=\"text-gray-600\">Toplam Tutar:</span>\r\n              <span className=\"font-semibold text-pink-600\">\r\n                {formatCurrency(totalPrice)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Date & Time */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label htmlFor=\"date\">Tarih *</Label>\r\n          <Input\r\n            id=\"date\"\r\n            type=\"date\"\r\n            {...register(\"date\")}\r\n            min={new Date().toISOString().split(\"T\")[0]}\r\n          />\r\n          {errors.date && (\r\n            <p className=\"text-sm text-red-600 mt-1\">{errors.date.message}</p>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <Label htmlFor=\"time\">Saat *</Label>\r\n          <Input id=\"time\" type=\"time\" {...register(\"time\")} />\r\n          {errors.time && (\r\n            <p className=\"text-sm text-red-600 mt-1\">{errors.time.message}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Working Hours Warning */}\r\n      {workingHoursWarning && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <svg\r\n              className=\"h-5 w-5 text-yellow-600 mt-0.5\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 20 20\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-sm font-medium text-yellow-800\">\r\n                {workingHoursWarning}\r\n              </p>\r\n              <p className=\"text-sm text-yellow-700 mt-1\">\r\n                Randevunuz takvim dÄ±ÅŸÄ± bir saatte. Yine de talep\r\n                oluÅŸturabilirsiniz, ekibimiz size en kÄ±sa sÃ¼rede dÃ¶nÃ¼ÅŸ\r\n                yapacaktÄ±r.\r\n              </p>\r\n              <div className=\"flex gap-3 mt-3\">\r\n                <a\r\n                  href=\"tel:+905551234567\"\r\n                  className=\"text-sm font-medium text-yellow-800 hover:underline\"\r\n                >\r\n                  ðŸ“ž Hemen Ara\r\n                </a>\r\n                <a\r\n                  href=\"https://wa.me/905551234567\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-sm font-medium text-yellow-800 hover:underline\"\r\n                >\r\n                  ðŸ’¬ WhatsApp\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* People Count */}\r\n      <div>\r\n        <Label htmlFor=\"people_count\">KiÅŸi SayÄ±sÄ±</Label>\r\n        <Input\r\n          id=\"people_count\"\r\n          type=\"number\"\r\n          min={1}\r\n          max={10}\r\n          {...register(\"people_count\", { valueAsNumber: true })}\r\n        />\r\n        {errors.people_count && (\r\n          <p className=\"text-sm text-red-600 mt-1\">\r\n            {errors.people_count.message}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Notes */}\r\n      <div>\r\n        <Label htmlFor=\"notes\">Notlar (Ä°steÄŸe baÄŸlÄ±)</Label>\r\n        <textarea\r\n          id=\"notes\"\r\n          {...register(\"notes\")}\r\n          rows={3}\r\n          className=\"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-pink-500\"\r\n          placeholder=\"Ã–zel istekleriniz varsa buraya yazabilirsiniz\"\r\n        />\r\n        {errors.notes && (\r\n          <p className=\"text-sm text-red-600 mt-1\">{errors.notes.message}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Submit */}\r\n      <Button type=\"submit\" disabled={isSubmitting} className=\"w-full\">\r\n        {isSubmitting ? \"GÃ¶nderiliyor...\" : \"Randevu Talebi OluÅŸtur\"}\r\n      </Button>\r\n\r\n      <p className=\"text-xs text-gray-500 text-center\">\r\n        Randevunuz onaylandÄ±ÄŸÄ±nda size bildirim gÃ¶nderilecektir\r\n      </p>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}